@(movies: List[Movie])

<div class="well well-sm">
    <div class="container">
        <ul class="nav nav-pills">
            <li class="active"><a href="#">Movies</a></li>
            <li><a href="#">Recomender</a></li>
            <li class="pull-right"><a href="#">Logout</a></li>
        </ul>
    </div>
</div>
<div class="container">
    <form action="/movie/search/page/1" method="GET">
        <div class="form-group">
            <div class="input-group">
                <input name="search" type="text" class="form-control" placeholder="Search movies..">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </div>
        </div>
    </form>
    <div class="panel panel-default">
        @if(movies == null || movies.isEmpty()) {
        <div class="panel-body">
            Nothing to display.
        </div>
        } else {
        <table class="table table-striped table-hover">
            <tr>
                <th class="col-md-9">Movie Title</th>
                <th class="col-md-1">Release</th>
                <th class="col-md-2">Rating</th>
            </tr>
                @for(movie <- movies) {
                <tr>
                    <td>@movie.title</td>
                    <td>@movie.release_date</td>
                    <td>
                        <form method="POST" action="">
                            <input type="text" name="movie_id" value="@movie.id" class="hidden">
                            <div class="btn-group" data-toggle="buttons">
                                <label class="btn btn-default">
                                    <input type="radio" name="rating" value="1">1
                                </label>
                                <label class="btn btn-default">
                                    <input type="radio" name="rating" value="2">2
                                </label>
                                <label class="btn btn-default">
                                    <input type="radio" name="rating" value="3">3
                                </label>
                                <label class="btn btn-default">
                                    <input type="radio" name="rating" value="4">4
                                </label>
                                <label class="btn btn-default">
                                    <input type="radio" name="rating" value="5">5
                                </label>
                            </div>
                        </form>
                    </td>
                </tr>
                }
        </table>
        }
    </div>
</div>

<script>
    function rate(id, rating) {
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "/movie/rate",
            data: {
                id: id,
                rating: rating
            }
            success: function(data){
                alert('oke');
            },
            error: function() {
                alert('unable to rate via ajax');
            }
        });
    }
</script>
